<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Circuito 2025.01 - Formulário</title>
  <style>
    body {
      background: linear-gradient(135deg, #0b1a13 0%, #163325 100%);
      font-family: 'Segoe UI', Arial, sans-serif;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .form-card {
      background: #162c20;
      border-radius: 22px;
      box-shadow: 0 8px 32px #0a1a12, 0 1.5px 8px #1b3c2b66;
      padding: 32px 28px 28px 28px;
      max-width: 430px;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 18px;
      align-items: stretch;
      border: 2.5px solid #1de982;
      position: relative;
      overflow: hidden;
    }
    .progress-bar-bg {
      width: 100%;
      height: 12px;
      background: #0e1c14;
      border-radius: 0 0 12px 12px;
      margin-bottom: 0;
      overflow: hidden;
      box-shadow: 0 2px 8px #1de98233;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #1de982 0%, #43e97b 100%);
      transition: width 0.4s cubic-bezier(.4,2.2,.2,1);
      border-radius: 0 0 12px 12px;
      box-shadow: 0 0 8px #1de98299;
    }
    #timer-container {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 18px 0 0 0;
    }
    #timer {
      background: #0e1c14;
      color: #1de982;
      font-weight: 900;
      font-size: 1.35rem;
      border-radius: 8px;
      padding: 10px 24px;
      letter-spacing: 2px;
      border: 2px solid #1de982;
      box-shadow: 0 0 12px #1de98244;
      font-family: 'Courier New', Courier, monospace;
      text-shadow: 0 0 8px #1de98288;
    }
    .form-title {
      font-size: 2.1rem;
      color: #1de982;
      font-weight: 900;
      text-align: center;
      margin: 24px 0 2px 0;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px #1de98255;
    }
    .form-desc {
      text-align: center;
      color: #b2dfdb;
      font-size: 1.13rem;
      margin-bottom: 10px;
    }
    .form-label {
      font-weight: 600;
      color: #1de982;
      margin-bottom: 4px;
      font-size: 1.13rem;
      text-shadow: 0 1px 4px #1de98233;
    }
    .form-input {
      padding: 12px;
      border-radius: 8px;
      border: 2px solid #1de982;
      font-size: 1.08rem;
      margin-bottom: 10px;
      background: #0e1c14;
      color: #fff;
      transition: border-color 0.2s, box-shadow 0.2s;
      box-shadow: 0 0 8px #1de98222;
    }
    .form-input:focus {
      border-color: #43e97b;
      outline: none;
      background: #162c20;
      box-shadow: 0 0 12px #1de98255;
    }
    .form-btn {
      background: linear-gradient(90deg, #1de982 0%, #43e97b 100%);
      color: #10281b;
      border: none;
      border-radius: 10px;
      padding: 15px 0;
      font-size: 1.18rem;
      font-weight: 800;
      cursor: pointer;
      margin-top: 10px;
      transition: 
        background 0.2s, 
        transform 0.15s, 
        box-shadow 0.2s,
        filter 0.2s;
      box-shadow: 0 0 16px #1de98255, 0 2px 8px #1de98222;
      letter-spacing: 1px;
      text-shadow: 0 1px 4px #fff8;
    }
    .form-btn:hover {
      filter: brightness(1.15);
      box-shadow: 0 0 32px #1de982cc, 0 2px 16px #1de98244;
      transform: scale(1.04);
    }
    .btn-voltar {
      background: transparent !important;
      color: #1de982 !important;
      border: 2px solid #1de982 !important;
      box-shadow: none !important;
      margin-top: 10px;
      margin-bottom: 0;
      font-weight: 700;
      transition: 
        background 0.2s, 
        color 0.2s, 
        border 0.2s, 
        transform 0.15s, 
        box-shadow 0.2s;
    }
    .btn-voltar:hover {
      background: #0e1c14 !important;
      color: #43e97b !important;
      border-color: #43e97b !important;
      box-shadow: 0 0 16px #1de98288;
      transform: scale(1.04);
    }
    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .quiz-options input[type="radio"] {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }
    .quiz-options label {
      position: relative;
      cursor: pointer;
      padding: 10px 14px;
      border-radius: 8px;
      font-size: 1.08rem;
      transition: background 0.15s, color 0.15s, border 0.15s;
      border: 2px solid transparent;
      color: #b2dfdb;
      background: #1b3c2b;
      box-shadow: 0 0 4px #1de98222;
    }
    .quiz-options input[type="radio"]:focus + label,
    .quiz-options label:hover {
      background: #10281b;
      border-color: #1de982;
      color: #1de982;
      box-shadow: 0 0 8px #1de98255;
    }
    .quiz-options input[type="radio"]:checked + label {
      background: #10281b;
      border: 2.5px solid #43e97b;
      color: #1de982;
      font-weight: bold;
      box-shadow: 0 0 24px #1de982cc, 0 0 8px #1de98299 inset, 0 0 12px #1de98299;
      transform: scale(1.04);
      transition: box-shadow 0.2s, background 0.2s, color 0.2s, transform 0.2s, border 0.2s;
      z-index: 1;
    }
    .quiz-options input[type="radio"]:checked + label::before {
      background: #1de982;
      border-color: #43e97b;
      box-shadow: 0 0 8px #1de98299, 0 0 0 4px #1de98233;
    }
    #sending-loader, #resultado, #quiz-form {
      display: none;
      flex-direction: column;
      align-items: center;
    }
    #mensagem-resultado {
      font-size: 1.3rem;
      color: #1de982;
      margin: 18px 0;
      text-shadow: 0 1px 4px #1de98255;
    }
    .correcao {
      margin-top: 18px;
      background: #0e1c14;
      border-radius: 10px;
      padding: 10px 16px;
      color: #b2dfdb;
      font-size: 1.04rem;
      border: 2px solid #1de982;
      box-shadow: 0 0 8px #1de98233;
    }
    .step { display: none; flex-direction: column; gap: 12px; }
    .step.active { display: flex; animation: fadeIn 0.5s;}
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    ul.regras {
      text-align:left;
      color:#b2dfdb;
      font-size:1.04rem;
      margin:0 0 10px 0;
      padding-left:18px;
    }
    .botoes-etapa {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 8px;
    }
    .form-btn, .btn-voltar {
      flex: 1 1 0;
      min-width: 0;
    }
    @media (max-width: 600px) {
      .form-card {
        padding: 8px 2vw 8px 2vw;
        max-width: 99vw;
      }
      .form-title { font-size: 1.2rem; }
      #timer { font-size: 1.05rem; padding: 7px 8px;}
      .form-label, .form-desc { font-size: 1rem; }
      .quiz-options label { font-size: 0.98rem; padding: 8px 8px; }
      .botoes-etapa { flex-direction: column; gap: 6px; }
      .form-btn, .btn-voltar { font-size: 1rem; padding: 12px 0; }
      #mensagem-resultado { font-size: 1.05rem; }
      .correcao { font-size: 0.97rem; padding: 8px 6px; }
      #carrossel-correcao { flex-direction: column; gap: 8px; }
    }
    /* Impede seleção de texto em todo o corpo e elementos principais */
    body, .form-card, .quiz-options label, .form-label, .form-title, .form-desc {
      user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
    }
    .loader {
      border: 6px solid #1de98244;
      border-top: 6px solid #1de982;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    .correcao-seta {
      background: #1de982;
      color: #10281b;
      border: none;
      border-radius: 50%;
      width: 38px;
      height: 38px;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 8px #1de98255;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s, transform 0.15s;
      margin: 0 4px;
    }
    .correcao-seta:hover {
      background: #43e97b;
      transform: scale(1.12);
    }
    @media (max-width: 600px) {
      .correcao-seta {
        width: 32px;
        height: 32px;
        font-size: 1.15rem;
      }
    }
  </style>
</head>
<body>
  <div id="page-loader" style="position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:#0b1a13;">
    <div style="display:flex;flex-direction:column;align-items:center;gap:18px;">
      <div class="loader"></div>
      <div style="color:#1de982;font-size:1.3rem;font-weight:bold;">Carregando...</div>
    </div>
  </div>

  <div style="position:fixed;top:0;left:0;width:100vw;background:#1de982;color:#10281b;font-weight:bold;text-align:center;padding:8px 0;z-index:9999;box-shadow:0 2px 8px #1de98255;">
    ⚠️ Não saia da página ou troque de aba! Isso encerrará sua avaliação.
  </div>
  <div class="form-card" id="inicio">
    <div style="display:flex;justify-content:center;">
      <span style="font-size:3.2rem; color:#1de982; filter:drop-shadow(0 0 8px #1de98288); margin-bottom:10px;">🎮</span>
    </div>
    <div class="form-title" style="font-size:2.5rem; margin-bottom:0;">Circuito 2025.01</div>
    <div class="form-desc" style="font-size:1.18rem; margin-bottom:18px;">
      <b>Bem-vindo ao desafio!</b><br>
      <span style="color:#1de982;">Matemática e Ciências</span><br>
      <span style="color:#b2dfdb;">Responda todas as perguntas no tempo e tente bater o recorde!</span>
    </div>
    <div style="background:#0e1c14;border-radius:12px;padding:14px 18px;margin-bottom:18px;border:1.5px solid #1de982;">
      <ul class="regras" style="margin:0;">
        <li>Não saia da página durante o quiz.</li>
        <li>Tempo limitado: <b>120 minutos</b>.</li>
        <li>Fale com um professor em caso de dúvida.</li>
      </ul>
    </div>
    <button class="form-btn" style="font-size:1.25rem;box-shadow:0 0 18px #1de98288;" onclick="comecar()">Começar!</button>
  </div>

  <form class="form-card" id="quiz-form" autocomplete="off">
    <div class="progress-bar-bg">
      <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
    </div>
    <div id="timer-container">
      <div id="timer">
        ⏱ <span id="timer-count">120:00</span>
      </div>
    </div>
    <div class="form-title">Circuito 2025.01</div>
    <div class="form-desc">Matemática e Ciências<br>Responda todas as perguntas e clique em Enviar!</div>

    <!-- Etapa 1: Nome da equipe -->
    <div class="step active">
      <label class="form-label" for="nome">Nome da equipe</label>
      <input class="form-input" type="text" id="nome" name="nome" required placeholder="Digite o nome da equipe">
      <div class="botoes-etapa">
        <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
      </div>
    </div>

<!-- MATEMÁTICA -->
<div class="step">
  <div class="form-label">1. Qual o valor do discriminante da equação 7x² - 12x = 0 é:</div>
  <div class="quiz-options">
    <input type="radio" id="q1a" name="q1" value="- 114." required>
    <label for="q1a">a) - 114.</label>
    <input type="radio" id="q1b" name="q1" value="144.">
    <label for="q1b">b) 144.</label> <!-- * -->
    <input type="radio" id="q1c" name="q1" value="114.">
    <label for="q1c">c) 114.</label>
    <input type="radio" id="q1d" name="q1" value="- 144.">
    <label for="q1d">d) - 144.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">2. Quando na equação o discriminante é maior que 0, teremos:</div>
  <div class="quiz-options">
    <input type="radio" id="q2a" name="q2" value="Uma raiz real." required>
    <label for="q2a">a) Uma raiz real.</label>
    <input type="radio" id="q2b" name="q2" value="Não tem raiz real.">
    <label for="q2b">b) Não tem raiz real.</label>
    <input type="radio" id="q2c" name="q2" value="Duas raízes reais.">
    <label for="q2c">c) Duas raízes reais.</label> <!-- * -->
    <input type="radio" id="q2d" name="q2" value="N.D.R.">
    <label for="q2d">d) N.D.R.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">3. O conjunto solução da equação x² - 5x + 6 = 0 é:</div>
  <div class="quiz-options">
    <input type="radio" id="q3a" name="q3" value="S = {2,3}" required>
    <label for="q3a">a) S = {2,3}</label>
    <input type="radio" id="q3b" name="q3" value="S = {2,-3}">
    <label for="q3b">b) S = {2,-3}</label>
    <input type="radio" id="q3c" name="q3" value="S = {-2,3}">
    <label for="q3c">c) S = {-2,3}</label>
    <input type="radio" id="q3d" name="q3" value="S = {3,2}">
    <label for="q3d">d) S = {3,2}</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">4. A equação (x - 4)² = 25 tem:</div>
  <div class="quiz-options">
    <input type="radio" id="q4a" name="q4" value="Uma raiz real." required>
    <label for="q4a">a) Uma raiz real.</label>
    <input type="radio" id="q4b" name="q4" value="Duas raízes reais.">
    <label for="q4b">b) Duas raízes reais.</label> <!-- * -->
    <input type="radio" id="q4c" name="q4" value="Não tem raízes reais.">
    <label for="q4c">c) Não tem raízes reais.</label>
    <input type="radio" id="q4d" name="q4" value="Três raízes reais.">
    <label for="q4d">d) Três raízes reais.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">5. Das afirmações abaixo, quantas alternativas são verdadeiras?<br>
  (    ) Delta é também chamada de discriminante.<br>
  (    ) A fórmula do discriminante é representada pela diferença do quadrado de b pelo produto de quatro com a e c.<br>
  (    ) A equação do 2° grau, não terá raízes se o discriminante for menor que zero.<br>
  (    ) Na equação do 2° grau, o valor de b, sempre está acompanhado da incógnita x.</div>
  <div class="quiz-options">
    <input type="radio" id="q5a" name="q5" value="uma" required>
    <label for="q5a">a) uma</label>
    <input type="radio" id="q5b" name="q5" value="duas">
    <label for="q5b">b) duas</label>
    <input type="radio" id="q5c" name="q5" value="três">
    <label for="q5c">c) três</label>
    <input type="radio" id="q5d" name="q5" value="todas">
    <label for="q5d">d) todas</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">6. Das afirmações abaixo, apenas uma não é verdadeira. Qual?</div>
  <div class="quiz-options">
    <input type="radio" id="q6a" name="q6" value="O valor de x1 e x2 são também chamados raízes da equação." required>
    <label for="q6a">a) O valor de x1 e x2 são também chamados raízes da equação.</label>
    <input type="radio" id="q6b" name="q6" value="Quando o discriminante é negativo, não tem raiz real.">
    <label for="q6b">b) Quando o discriminante é negativo, não tem raiz real.</label>
    <input type="radio" id="q6c" name="q6" value="A equação do 2° grau, tem que estar sempre na fórmula geral e decrescente.">
    <label for="q6c">c) A equação do 2° grau, tem que estar sempre na fórmula geral e decrescente.</label> <!-- * -->
    <input type="radio" id="q6d" name="q6" value="É proporção quando o resultado da multiplicação dos termos inversos for igual.">
    <label for="q6d">d) É proporção quando o resultado da multiplicação dos termos inversos for igual.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">7. Qual o resultado da raiz quadrada de -169 ?:</div>
  <div class="quiz-options">
    <input type="radio" id="q7a" name="q7" value="11" required>
    <label for="q7a">a) 11</label>
    <input type="radio" id="q7b" name="q7" value="12">
    <label for="q7b">b) 12</label>
    <input type="radio" id="q7c" name="q7" value="13">
    <label for="q7c">c) 13</label>
    <input type="radio" id="q7d" name="q7" value="N.D.R.">
    <label for="q7d">d) N.D.R.</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">8. Se a raiz quadrada de X = 30, então o valor de X é:</div>
  <div class="quiz-options">
    <input type="radio" id="q8a" name="q8" value="60." required>
    <label for="q8a">a) 60.</label>
    <input type="radio" id="q8b" name="q8" value="90.">
    <label for="q8b">b) 90.</label>
    <input type="radio" id="q8c" name="q8" value="600.">
    <label for="q8c">c) 600.</label>
    <input type="radio" id="q8d" name="q8" value="900.">
    <label for="q8d">d) 900.</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">9. O valor de x na proporção x/3 = 2 - x / 3 é :</div>
  <div class="quiz-options">
    <input type="radio" id="q9a" name="q9" value="0" required>
    <label for="q9a">a) 0</label>
    <input type="radio" id="q9b" name="q9" value="1">
    <label for="q9b">b) 1</label> <!-- * -->
    <input type="radio" id="q9c" name="q9" value="6">
    <label for="q9c">c) 6</label>
    <input type="radio" id="q9d" name="q9" value="2">
    <label for="q9d">d) 2</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">10. Das razões abaixo, quantas formam proporções?<br>I. 3/4 e 6/8<br>II. 9/6 e 7/5<br>III. 10/6 e 9/5</div>
  <div class="quiz-options">
    <input type="radio" id="q10a" name="q10" value="uma" required>
    <label for="q10a">a) uma</label> <!-- * -->
    <input type="radio" id="q10b" name="q10" value="duas">
    <label for="q10b">b) duas</label>
    <input type="radio" id="q10c" name="q10" value="três">
    <label for="q10c">c) três</label>
    <input type="radio" id="q10d" name="q10" value="nenhuma">
    <label for="q10d">d) nenhuma</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">11. A soma dos valores do conjunto solução da equação x² + 4x – 5 = 0 é:</div>
  <div class="quiz-options">
    <input type="radio" id="q11a" name="q11" value="- 4." required>
    <label for="q11a">a) - 4.</label> <!-- * -->
    <input type="radio" id="q11b" name="q11" value="4.">
    <label for="q11b">b) 4.</label>
    <input type="radio" id="q11c" name="q11" value="6.">
    <label for="q11c">c) 6.</label>
    <input type="radio" id="q11d" name="q11" value="- 6.">
    <label for="q11d">d) - 6.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">12. Sobre as equações do segundo grau, julgue as afirmativas a seguir:<br>
I. Toda equação do 2º grau possui pelo menos uma solução real.<br>
II. Quando o discriminante da equação do 2º grau é positivo, existirão duas ou mais soluções reais para a equação.<br>
III. Equação do 2º grau é toda equação do tipo ax + b = 0.<br>
Marque a alternativa correta:</div>
  <div class="quiz-options">
    <input type="radio" id="q12a" name="q12" value="Somente a afirmativa I é verdadeira." required>
    <label for="q12a">a) Somente a afirmativa I é verdadeira.</label>
    <input type="radio" id="q12b" name="q12" value="Somente a afirmativa II é verdadeira.">
    <label for="q12b">b) Somente a afirmativa II é verdadeira.</label>
    <input type="radio" id="q12c" name="q12" value="Somente a afirmativa III é verdadeira.">
    <label for="q12c">c) Somente a afirmativa III é verdadeira.</label>
    <input type="radio" id="q12d" name="q12" value="Nenhuma das afirmativas é verdadeira.">
    <label for="q12d">d) Nenhuma das afirmativas é verdadeira.</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">13. A forma simplificada da raiz quadrada de 720 é:</div>
  <div class="quiz-options">
    <input type="radio" id="q13a" name="q13" value="cinco raiz de doze" required>
    <label for="q13a">a) cinco raiz de doze</label>
    <input type="radio" id="q13b" name="q13" value="doze raiz de cinco">
    <label for="q13b">b) doze raiz de cinco</label> <!-- * -->
    <input type="radio" id="q13c" name="q13" value="quatro raiz de dez">
    <label for="q13c">c) quatro raiz de dez</label>
    <input type="radio" id="q13d" name="q13" value="seis raiz de cinco">
    <label for="q13d">d) seis raiz de cinco</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">14. Simplificando a raiz quadrada de 2³ . 5² teremos como resposta:</div>
  <div class="quiz-options">
    <input type="radio" id="q14a" name="q14" value="cinquenta raiz de 2" required>
    <label for="q14a">a) cinquenta raiz de 2</label>
    <input type="radio" id="q14b" name="q14" value="raiz de duzentos">
    <label for="q14b">b) raiz de duzentos</label>
    <input type="radio" id="q14c" name="q14" value="vinte e cinco raiz de oito">
    <label for="q14c">c) vinte e cinco raiz de oito</label>
    <input type="radio" id="q14d" name="q14" value="dez raiz de dois">
    <label for="q14d">d) dez raiz de dois</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">15. Marque a alternativa que representa a soma da raiz quadrada de 48 e a raiz quadrada de 75.</div>
  <div class="quiz-options">
    <input type="radio" id="q15a" name="q15" value="cinco raiz de seis" required>
    <label for="q15a">a) cinco raiz de seis</label>
    <input type="radio" id="q15b" name="q15" value="nove raiz de três">
    <label for="q15b">b) nove raiz de três</label> <!-- * -->
    <input type="radio" id="q15c" name="q15" value="quatro raiz de seis">
    <label for="q15c">c) quatro raiz de seis</label>
    <input type="radio" id="q15d" name="q15" value="oito raiz de três">
    <label for="q15d">d) oito raiz de três</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>

<!-- CIÊNCIAS -->
<div class="step">
  <div class="form-label">1. A classificação de um corpo celeste em um planeta requer um conjunto de características definidas pelas reuniões da Assembleia Geral da União Astronômica Internacional, que ocorre periodicamente. Qual alternativa indica uma característica necessária para a definição de um planeta do Sistema Solar?</div>
  <div class="quiz-options">
    <input type="radio" id="q16a" name="q16" value="Definição de uma órbita ao redor do Sol." required>
    <label for="q16a">a) Definição de uma órbita ao redor do Sol.</label> <!-- * -->
    <input type="radio" id="q16b" name="q16" value="Existência de uma ou mais luas.">
    <label for="q16b">b) Existência de uma ou mais luas.</label>
    <input type="radio" id="q16c" name="q16" value="Iluminação interna e externa própria.">
    <label for="q16c">c) Iluminação interna e externa própria.</label>
    <input type="radio" id="q16d" name="q16" value="Composição terrestre de origem gasosa.">
    <label for="q16d">d) Composição terrestre de origem gasosa.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">2. O brilho aparente de uma estrela chama-se:</div>
  <div class="quiz-options">
    <input type="radio" id="q17a" name="q17" value="Massa solar" required>
    <label for="q17a">a) Massa solar</label>
    <input type="radio" id="q17b" name="q17" value="Temperatura estelar">
    <label for="q17b">b) Temperatura estelar</label>
    <input type="radio" id="q17c" name="q17" value="Ano-luz">
    <label for="q17c">c) Ano-luz</label>
    <input type="radio" id="q17d" name="q17" value="Magnitude estelar">
    <label for="q17d">d) Magnitude estelar</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">3. Qual das seguintes afirmações descreve melhor a teoria do Big Bang?</div>
  <div class="quiz-options">
    <input type="radio" id="q18a" name="q18" value="O Big Bang postula que o Universo se originou de uma explosão maciça há aproximadamente 13,8 bilhões de anos, resultando na expansão contínua do espaço-tempo." required>
    <label for="q18a">a) O Big Bang postula que o Universo se originou de uma explosão maciça há aproximadamente 13,8 bilhões de anos, resultando na expansão contínua do espaço-tempo.</label> <!-- * -->
    <input type="radio" id="q18b" name="q18" value="O Big Bang é uma teoria que sugere que o Universo é estático e não sofreu mudanças significativas desde sua criação">
    <label for="q18b">b) O Big Bang é uma teoria que sugere que o Universo é estático e não sofreu mudanças significativas desde sua criação</label>
    <input type="radio" id="q18c" name="q18" value="O Big Bang é uma teoria que afirma que o Universo é infinito e sempre existiu em sua forma atual">
    <label for="q18c">c) O Big Bang é uma teoria que afirma que o Universo é infinito e sempre existiu em sua forma atual</label>
    <input type="radio" id="q18d" name="q18" value="O Big Bang argumenta que o Universo foi criado por uma série de colisões entre galáxias, resultando na formação de estrelas e planetas.">
    <label for="q18d">d) O Big Bang argumenta que o Universo foi criado por uma série de colisões entre galáxias, resultando na formação de estrelas e planetas.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">4. “Cada uma das sociedades antigas registrava o tempo a sua maneira, em geral guiada pela observação dos ciclos solares ou lunares.” Assinale a alternativa que indica um instrumento utilizado por essas sociedades para medir e organizar o tempo criado com base nesse tipo de observação.</div>
  <div class="quiz-options">
    <input type="radio" id="q19a" name="q19" value="Relógio." required>
    <label for="q19a">a) Relógio.</label>
    <input type="radio" id="q19b" name="q19" value="Calendário.">
    <label for="q19b">b) Calendário.</label>
    <input type="radio" id="q19c" name="q19" value="Astrolábio.">
    <label for="q19c">c) Astrolábio.</label> <!-- * -->
    <input type="radio" id="q19d" name="q19" value="Bússola.">
    <label for="q19d">d) Bússola.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">5. Como os povos antigos utilizavam as estrelas na agricultura?</div>
  <div class="quiz-options">
    <input type="radio" id="q20a" name="q20" value="Para prever tempestades e desastres naturais." required>
    <label for="q20a">a) Para prever tempestades e desastres naturais.</label>
    <input type="radio" id="q20b" name="q20" value="Para identificar locais férteis para cultivo.">
    <label for="q20b">b) Para identificar locais férteis para cultivo.</label>
    <input type="radio" id="q20c" name="q20" value="Para desenvolver novas técnicas agrícolas.">
    <label for="q20c">c) Para desenvolver novas técnicas agrícolas.</label>
    <input type="radio" id="q20d" name="q20" value="Para determinar as melhores épocas de plantio e colheita.">
    <label for="q20d">d) Para determinar as melhores épocas de plantio e colheita.</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">6. A hereditariedade tem sido estudada através da genética desde cedo. A genética, por sua vez, foi introduzida através de análises de experimentos com ervilhas feitas por um cientista, considerado o pai da genética. Diante disso, qual o cientista o texto acima está se referindo?</div>
  <div class="quiz-options">
    <input type="radio" id="q21a" name="q21" value="Mendel." required>
    <label for="q21a">a) Mendel.</label> <!-- * -->
    <input type="radio" id="q21b" name="q21" value="Charles Darwin.">
    <label for="q21b">b) Charles Darwin.</label>
    <input type="radio" id="q21c" name="q21" value="Albert Einstein.">
    <label for="q21c">c) Albert Einstein.</label>
    <input type="radio" id="q21d" name="q21" value="Lamarck.">
    <label for="q21d">d) Lamarck.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">7. As características de um indivíduo ou grupo de indivíduos resultantes da expressão dos genes do organismo, da influência dos fatores ambientais e da possível interação entre os dois recebem a denominação de:</div>
  <div class="quiz-options">
    <input type="radio" id="q22a" name="q22" value="cariótipo." required>
    <label for="q22a">a) cariótipo.</label>
    <input type="radio" id="q22b" name="q22" value="fenótipo">
    <label for="q22b">b) fenótipo</label> <!-- * -->
    <input type="radio" id="q22c" name="q22" value="características">
    <label for="q22c">c) características</label>
    <input type="radio" id="q22d" name="q22" value="cromossomos.">
    <label for="q22d">d) cromossomos.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">8. Todo ser vivo possui um material genético com todas as informações que constitui um indivíduo, também conhecido como DNA. Assinale o item correto que apresenta o significado de DNA.</div>
  <div class="quiz-options">
    <input type="radio" id="q23a" name="q23" value="Adenosina nucleica acetona." required>
    <label for="q23a">a) Adenosina nucleica acetona.</label>
    <input type="radio" id="q23b" name="q23" value="Ácido desoxirribonucleico.">
    <label for="q23b">b) Ácido desoxirribonucleico.</label> <!-- * -->
    <input type="radio" id="q23c" name="q23" value="Adenosina nucleica aldeído.">
    <label for="q23c">c) Adenosina nucleica aldeído.</label>
    <input type="radio" id="q23d" name="q23" value="Ácido ribonucleico.">
    <label for="q23d">d) Ácido ribonucleico.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">9. Sobre os estudos da genética, qual a melhor definição para genótipo?</div>
  <div class="quiz-options">
    <input type="radio" id="q24a" name="q24" value="Características que um indivíduo." required>
    <label for="q24a">a) Características que um indivíduo.</label>
    <input type="radio" id="q24b" name="q24" value="Representação dos cromossomos.">
    <label for="q24b">b) Representação dos cromossomos.</label>
    <input type="radio" id="q24c" name="q24" value="O segmento de uma molécula de DNA.">
    <label for="q24c">c) O segmento de uma molécula de DNA.</label>
    <input type="radio" id="q24d" name="q24" value="A composição genética de um indivíduo.">
    <label for="q24d">d) A composição genética de um indivíduo.</label> <!-- * -->
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">10. Marque a alternativa que indica corretamente o nome da unidade básica da hereditariedade.</div>
  <div class="quiz-options">
    <input type="radio" id="q25a" name="q25" value="alelos." required>
    <label for="q25a">a) alelos.</label>
    <input type="radio" id="q25b" name="q25" value="cromossomo.">
    <label for="q25b">b) cromossomo.</label>
    <input type="radio" id="q25c" name="q25" value="gene.">
    <label for="q25c">c) gene.</label> <!-- * -->
    <input type="radio" id="q25d" name="q25" value="RNA.">
    <label for="q25d">d) RNA.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">11. Os cromossomos são formados por:</div>
  <div class="quiz-options">
    <input type="radio" id="q26a" name="q26" value="DNA exclusivamente." required>
    <label for="q26a">a) DNA exclusivamente.</label>
    <input type="radio" id="q26b" name="q26" value="DNA e proteínas.">
    <label for="q26b">b) DNA e proteínas.</label> <!-- * -->
    <input type="radio" id="q26c" name="q26" value="DNA e RNA.">
    <label for="q26c">c) DNA e RNA.</label>
    <input type="radio" id="q26d" name="q26" value="RNA exclusivamente.">
    <label for="q26d">d) RNA exclusivamente.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">12. A espécie humana apresenta</div>
  <div class="quiz-options">
    <input type="radio" id="q27a" name="q27" value="46 cromossomos, sendo 45 autossomos e 1 sexual." required>
    <label for="q27a">a) 46 cromossomos, sendo 45 autossomos e 1 sexual.</label>
    <input type="radio" id="q27b" name="q27" value="46 cromossomos, sendo 44 sexuais e 2 autossomos.">
    <label for="q27b">b) 46 cromossomos, sendo 44 sexuais e 2 autossomos.</label>
    <input type="radio" id="q27c" name="q27" value="23 pares de cromossomos, sendo um par sexual.">
    <label for="q27c">c) 23 pares de cromossomos, sendo um par sexual.</label> <!-- * -->
    <input type="radio" id="q27d" name="q27" value="23 pares de cromossomos, sendo dois pares sexuais.">
    <label for="q27d">d) 23 pares de cromossomos, sendo dois pares sexuais.</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">13. Imagine que uma espécie de roedor apresente indivíduos com pelo de coloração marrom e branca. A coloração branca é determinada por um alelo recessivo b, e a cor marrom é determinada por um alelo dominante B. Qual é a probabilidade de nascer um indivíduo branco do cruzamento entre dois roedores heterozigotos para essa característica?</div>
  <div class="quiz-options">
    <input type="radio" id="q28a" name="q28" value="25%" required>
    <label for="q28a">a) 25%</label> <!-- * -->
    <input type="radio" id="q28b" name="q28" value="0%">
    <label for="q28b">b) 0%</label>
    <input type="radio" id="q28c" name="q28" value="50%">
    <label for="q28c">c) 50%</label>
    <input type="radio" id="q28d" name="q28" value="75%">
    <label for="q28d">d) 75%</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">14. Utilizando o quadro de Punnet, calcule a probabilidade de uma mulher albina (a e a) e um homem com produção normal de melanina, mas que possui o gene responsável pelo albinismo (A e a), terem um filho albino. Após realizar o cruzamento, marque a alternativa que indica corretamente a probabilidade encontrada.</div>
  <div class="quiz-options">
    <input type="radio" id="q29a" name="q29" value="0%" required>
    <label for="q29a">a) 0%</label>
    <input type="radio" id="q29b" name="q29" value="25%">
    <label for="q29b">b) 25%</label>
    <input type="radio" id="q29c" name="q29" value="50%">
    <label for="q29c">c) 50%</label> <!-- * -->
    <input type="radio" id="q29d" name="q29" value="75%">
    <label for="q29d">d) 75%</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="button" class="form-btn" onclick="nextStep()">Próxima</button>
  </div>
</div>
<div class="step">
  <div class="form-label">15. Utilizando o quadro de Punnett, faça o cruzamento entre duas plantas que produzem ervilhas amarelas (Vv) e marque a alternativa que indica a probabilidade de nascimento de plantas que produzem ervilhas verdes (vv) por meio desse cruzamento.</div>
  <div class="quiz-options">
    <input type="radio" id="q30a" name="q30" value="0%" required>
    <label for="q30a">a) 0%</label>
    <input type="radio" id="q30b" name="q30" value="25%">
    <label for="q30b">b) 25%</label> <!-- * -->
    <input type="radio" id="q30c" name="q30" value="50%">
    <label for="q30c">c) 50%</label>
    <input type="radio" id="q30d" name="q30" value="75%">
    <label for="q30d">d) 75%</label>
  </div>
  <div class="botoes-etapa">
    <button type="button" class="form-btn btn-voltar" onclick="prevStep()">Voltar</button>
    <button type="submit" class="form-btn" id="enviar-btn">Enviar</button>
  </div>
</div>
  </form>

  <div id="sending-loader" class="form-card" style="display:none;align-items:center;justify-content:center;min-height:220px;">
    <div style="display:flex;flex-direction:column;align-items:center;gap:18px;">
      <div class="loader"></div>
      <div style="font-size:2rem;color:#1de982;font-weight:bold;text-shadow:0 2px 8px #1de98255;">Enviando respostas...</div>
      <div style="color:#b2dfdb;font-size:1.1rem;">Por favor, aguarde.</div>
    </div>
  </div>

  <div id="resultado" class="form-card" style="display:none; flex-direction:column; align-items:center;">
    <div class="form-title">Resultado</div>
    <div id="mensagem-resultado" style="font-size:1.3rem; color:#1de982; margin:18px 0;"></div>
    <details id="spoiler-correcao" style="width:100%;margin-top:18px;">
      <summary style="cursor:pointer;font-size:1.1rem;color:#1de982;">Clique para ver a correção das questões</summary>
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;">
        <button id="prev-correcao" class="correcao-seta" style="display:none;" aria-label="Anterior">&lt;</button>
        <div id="correcao" class="correcao"></div>
        <button id="next-correcao" class="correcao-seta" style="display:none;" aria-label="Próximo">&gt;</button>
      </div>
    </details>
    <div id="pontuacao-geral" style="font-size:1.2rem; color:#1de982; margin:18px 0;"></div>
  </div>

  <div class="form-card" id="aviso-transicao" style="display:none;align-items:center;justify-content:center;">
    <div id="texto-transicao" style="font-size:1.25rem;color:#1de982;text-align:center;">
      <!-- O texto será preenchido via JS -->
    </div>
    <button class="form-btn" style="margin-top:18px;" onclick="continuarTransicao()">Continuar</button>
  </div>

  <script>
    // Gabarito para correção
        const gabarito = [
      // Matemática
      "144.",           // q1
      "Duas raízes reais.", // q2
      "S = {3,2}",      // q3
      "Duas raízes reais.", // q4
      "todas",          // q5
      "A equação do 2° grau, tem que estar sempre na fórmula geral e decrescente.", // q6
      "N.D.R.",         // q7
      "900.",           // q8
      "1",              // q9
      "uma",            // q10
      "- 4.",           // q11
      "Nenhuma das afirmativas é verdadeira.", // q12
      "doze raiz de cinco", // q13
      "dez raiz de dois",   // q14
      "nove raiz de três",  // q15

      // Ciências
      "Definição de uma órbita ao redor do Sol.", // q16
      "Magnitude estelar",                        // q17
      "O Big Bang postula que o Universo se originou de uma explosão maciça há aproximadamente 13,8 bilhões de anos, resultando na expansão contínua do espaço-tempo.", // q18
      "Astrolábio.",                              // q19
      "Para determinar as melhores épocas de plantio e colheita.", // q20
      "Mendel.",                                  // q21
      "fenótipo",                                 // q22
      "Ácido desoxirribonucleico.",               // q23
      "A composição genética de um indivíduo.",   // q24
      "gene.",                                    // q25
      "DNA e proteínas.",                         // q26
      "23 pares de cromossomos, sendo um par sexual.", // q27
      "25%",                                      // q28
      "50%",                                      // q29
      "25%"                                       // q30
    ];
    const nomesQuestoes = [
      "q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15",
      "q16","q17","q18","q19","q20","q21","q22","q23","q24","q25","q26","q27","q28","q29","q30"
    ];

    const textosQuestoes = [
      // Matemática
      "1. Qual o valor do discriminante da equação 7x² - 12x = 0 é:",
      "2. Quando na equação o discriminante é maior que 0, teremos:",
      "3. O conjunto solução da equação x² - 5x + 6 = 0 é:",
      "4. A equação (x - 4)² = 25 tem:",
      "5. Das afirmações abaixo, quantas alternativas são verdadeiras?<br>(    ) Delta é também chamada de discriminante.<br>(    ) A fórmula do discriminante é representada pela diferença do quadrado de b pelo produto de quatro com a e c.<br>(    ) A equação do 2° grau, não terá raízes se o discriminante for menor que zero.<br>(    ) Na equação do 2° grau, o valor de b, sempre está acompanhado da incógnita x.",
      "6. Das afirmações abaixo, apenas uma não é verdadeira. Qual?",
      "7. Qual o resultado da raiz quadrada de -169 ?:",
      "8. Se a raiz quadrada de X = 30, então o valor de X é:",
      "9. O valor de x na proporção x/3 = 2 - x / 3 é :",
      "10. Das razões abaixo, quantas formam proporções?<br>I. 3/4 e 6/8<br>II. 9/6 e 7/5<br>III. 10/6 e 9/5",
      "11. A soma dos valores do conjunto solução da equação x² + 4x – 5 = 0 é:",
      "12. Sobre as equações do segundo grau, julgue as afirmativas a seguir:<br>I. Toda equação do 2º grau possui pelo menos uma solução real.<br>II. Quando o discriminante da equação do 2º grau é positivo, existirão duas ou mais soluções reais para a equação.<br>III. Equação do 2º grau é toda equação do tipo ax + b = 0.<br>Marque a alternativa correta:",
      "13. A forma simplificada da raiz quadrada de 720 é:",
      "14. Simplificando a raiz quadrada de 2³ . 5² teremos como resposta:",
      "15. Marque a alternativa que representa a soma da raiz quadrada de 48 e a raiz quadrada de 75.",

      // Ciências
      "16. A classificação de um corpo celeste em um planeta requer um conjunto de características definidas pelas reuniões da Assembleia Geral da União Astronômica Internacional, que ocorre periodicamente. Qual alternativa indica uma característica necessária para a definição de um planeta do Sistema Solar?",
      "17. O brilho aparente de uma estrela chama-se:",
      "18. Qual das seguintes afirmações descreve melhor a teoria do Big Bang?",
      "19. “Cada uma das sociedades antigas registrava o tempo a sua maneira, em geral guiada pela observação dos ciclos solares ou lunares.” Assinale a alternativa que indica um instrumento utilizado por essas sociedades para medir e organizar o tempo criado com base nesse tipo de observação.",
      "20. Como os povos antigos utilizavam as estrelas na agricultura?",
      "21. A hereditariedade tem sido estudada através da genética desde cedo. A genética, por sua vez, foi introduzida através de análises de experimentos com ervilhas feitas por um cientista, considerado o pai da genética. Diante disso, qual o cientista o texto acima está se referindo?",
      "22. As características de um indivíduo ou grupo de indivíduos resultantes da expressão dos genes do organismo, da influência dos fatores ambientais e da possível interação entre os dois recebem a denominação de:",
      "23. Todo ser vivo possui um material genético com todas as informações que constitui um indivíduo, também conhecido como DNA. Assinale o item correto que apresenta o significado de DNA.",
      "24. Sobre os estudos da genética, qual a melhor definição para genótipo?",
      "25. Marque a alternativa que indica corretamente o nome da unidade básica da hereditariedade.",
      "26. Os cromossomos são formados por:",
      "27. A espécie humana apresenta",
      "28. Imagine que uma espécie de roedor apresente indivíduos com pelo de coloração marrom e branca. A coloração branca é determinada por um alelo recessivo b, e a cor marrom é determinada por um alelo dominante B. Qual é a probabilidade de nascer um indivíduo branco do cruzamento entre dois roedores heterozigotos para essa característica?",
      "29. Utilizando o quadro de Punnet, calcule a probabilidade de uma mulher albina (a e a) e um homem com produção normal de melanina, mas que possui o gene responsável pelo albinismo (A e a), terem um filho albino. Após realizar o cruzamento, marque a alternativa que indica corretamente a probabilidade encontrada.",
      "30. Utilizando o quadro de Punnett, faça o cruzamento entre duas plantas que produzem ervilhas amarelas (Vv) e marque a alternativa que indica a probabilidade de nascimento de plantas que produzem ervilhas verdes (vv) por meio desse cruzamento."
    ];

    let tempo = 7200; // 2 horas
    let timerInterval;
    let enviado = false;

    // Variáveis globais para correção/carrossel
    let correcaoPaginas = [];
    let paginaAtual = 0;

    // Wizard de etapas
    let currentStep = 0;
    const steps = document.querySelectorAll('.step');
    const progressBar = document.getElementById('progress-bar');
    function updateProgressBar() {
      const total = steps.length;
      const percent = Math.round((currentStep) / (total - 1) * 100);
      progressBar.style.width = percent + "%";
    }
    function nextStep() {
      // Validação dos campos obrigatórios da etapa atual
      const inputs = steps[currentStep].querySelectorAll('input, select');
      for (let input of inputs) {
        if (input.type === "radio") {
          const radios = steps[currentStep].querySelectorAll(`input[name="${input.name}"]`);
          if (![...radios].some(r => r.checked)) {
            alert('Selecione uma alternativa!');
            return;
          }
        } else if (!input.checkValidity()) {
          input.reportValidity();
          return;
        }
      }
      steps[currentStep].classList.remove('active');
      currentStep++;
      // Aviso após o nome da equipe (etapa 1, índice 1)
      if (currentStep === 1) {
        mostrarTransicao(`
          <span style="font-size:2.2rem;display:block;margin-bottom:10px;">📊🧮</span>
          <b>Agora começam as 15 perguntas de Matemática!</b>
          <br><br>
          Responda com atenção.<br>
          Boa sorte! 🍀
        `);
        return;
      }
      // Aviso ao chegar na questão 16 (índice 16)
      if (currentStep === 16) {
        mostrarTransicao(`
          <span style="font-size:2.2rem;display:block;margin-bottom:10px;">🧪⚗️</span>
          <b>Agora começam as 15 perguntas de Ciências!</b>
          <br><br>
          Continue focado.<br>
          Você está indo muito bem! 🚀
        `);
        return;
      }
      if (steps[currentStep]) {
        steps[currentStep].classList.add('active');
        updateProgressBar();
      }
    }
    function prevStep() {
      if (currentStep > 0) {
        steps[currentStep].classList.remove('active');
        currentStep--;
        steps[currentStep].classList.add('active');
        updateProgressBar();
      }
    }

    function comecar() {
      document.getElementById('inicio').style.display = 'none';
      document.getElementById('quiz-form').style.display = 'flex';
      document.getElementById('timer-container').style.display = 'flex';
      updateProgressBar();
      iniciarTimer();
      window.addEventListener('blur', autoEnviar);
    }

    function iniciarTimer() {
      const timerCount = document.getElementById('timer-count');
      timerInterval = setInterval(() => {
        if (tempo <= 0) {
          clearInterval(timerInterval);
          autoEnviar();
          timerCount.textContent = "Tempo esgotado!";
          return;
        }
        let min = Math.floor(tempo / 60);
        let seg = tempo % 60;
        timerCount.textContent = `${min}:${String(seg).padStart(2, '0')}`;
        tempo--;
      }, 1000);
    }

    function autoEnviar() {
      if (!enviado) {
        enviado = true;
        document.getElementById('quiz-form').requestSubmit();
      }
    }

    // Envio do formulário
    const form = document.getElementById('quiz-form');
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      enviado = true;
      clearInterval(timerInterval);
      window.removeEventListener('blur', autoEnviar);

      form.style.display = 'none';
      document.getElementById('timer-container').style.display = 'none';
      document.getElementById('sending-loader').style.display = 'flex';

      // Corrigir e mostrar resultado
      let acertos = 0;
      correcaoPaginas = [];
      paginaAtual = 0;
      for (let i = 0; i < gabarito.length; i += 5) {
        let bloco = '';
        for (let j = i; j < i + 5 && j < gabarito.length; j++) {
          const marcada = form.querySelector(`input[name="${nomesQuestoes[j]}"]:checked`);
          const resposta = marcada ? marcada.value : '';
          if (resposta === gabarito[j]) {
            bloco += `<b>${textosQuestoes[j]}</b><br><span style="color:#1de982">✔ Correto!</span><br><br>`;
            acertos++;
          } else {
            bloco += `<b>${textosQuestoes[j]}</b><br>
              <span style="color:#ff5252">✘ Sua resposta: ${resposta || '<i>Não respondida</i>'}</span><br>
              <span style="color:#1de982">✔ Correto: ${gabarito[j]}</span><br><br>`;
          }
        }
        correcaoPaginas.push(bloco);
      }

      // Monta os dados do formulário
      const formData = new FormData(form);

      // Envia para o Apps Script
      fetch('https://script.google.com/macros/s/AKfycbwURrDZ7LM9_xLikQfARuoLItPirKhDIi6Zavles3609cO4dOiDD_GNWgCSDiRU0zbf/exec', {
        method: "POST",
        body: formData
      })
      .finally(() => {
        document.getElementById('sending-loader').style.display = 'none';
        // Mensagem de confirmação estilizada
        const confirmDiv = document.createElement('div');
        confirmDiv.style.display = 'flex';
        confirmDiv.style.flexDirection = 'column';
        confirmDiv.style.alignItems = 'center';
        confirmDiv.style.justifyContent = 'center';
        confirmDiv.style.background = '#162c20';
        confirmDiv.style.border = '2.5px solid #1de982';
        confirmDiv.style.borderRadius = '18px';
        confirmDiv.style.boxShadow = '0 8px 32px #0a1a12, 0 1.5px 8px #1b3c2b66';
        confirmDiv.style.padding = '38px 28px 32px 28px';
        confirmDiv.style.maxWidth = '400px';
        confirmDiv.style.margin = '60px auto 0 auto';
        confirmDiv.innerHTML = `
          <span style="font-size:3.2rem; color:#1de982; filter:drop-shadow(0 0 8px #1de98288); margin-bottom:18px;">🎉</span>
          <div style="font-size:2rem; color:#1de982; font-weight:900; text-align:center; margin-bottom:10px;">Respostas enviadas!</div>
          <div style="color:#b2dfdb; font-size:1.15rem; text-align:center; margin-bottom:18px;">Suas respostas foram registradas com sucesso.<br>Obrigado por participar do Circuito!<br><span style='color:#43e97b;'>Você já pode fechar esta página.</span></div>
        `;
        document.body.innerHTML = '';
        document.body.appendChild(confirmDiv);

        // Mostrar respostas marcadas pelo aluno após o envio
        setTimeout(() => {
          let respostasMarcadas = [];
          for (let i = 0; i < nomesQuestoes.length; i++) {
            const marcada = form.querySelector(`input[name="${nomesQuestoes[i]}"]:checked`);
            let resposta = '';
            if (marcada) {
              const label = form.querySelector(`label[for="${marcada.id}"]`);
              resposta = label ? label.innerText : marcada.value;
            } else {
              resposta = '<span style="color:#ff5252;"><i>Não respondida</i></span>';
            }
            respostasMarcadas.push(`
      <div style="
        background:#0e1c14;
        border-radius:10px;
        border:1.5px solid #1de98255;
        margin-bottom:16px;
        padding:14px 16px;
        box-shadow:0 2px 8px #1de98222;
      ">
        <div style="color:#1de982;font-weight:600;margin-bottom:6px;">${textosQuestoes[i]}</div>
        <div style="color:#b2dfdb;font-size:1.08rem;">
          <b>Sua resposta:</b> ${resposta}
        </div>
      </div>
    `);
          }
          const respostasDiv = document.createElement('div');
          respostasDiv.className = 'form-card';
          respostasDiv.style.margin = '30px auto';
          respostasDiv.style.maxWidth = '600px';
          respostasDiv.innerHTML = `
    <div class="form-title" style="margin-bottom:10px;">Suas respostas</div>
    <div style="text-align:left;">${respostasMarcadas.join('')}</div>
    <div style="margin-top:24px;color:#1de982;text-align:center;font-size:1.15rem;">
      Obrigado por participar do Circuito!<br>Você já pode fechar esta página.
    </div>
  `;
          document.body.innerHTML = '';
          document.body.appendChild(respostasDiv);
        }, 2200); // espera 2,2 segundos para garantir que a mensagem de "Respostas enviadas!" apareça antes
      });
    });

    function mostrarPaginaCorrecao(idx) {
      document.getElementById('correcao').innerHTML = correcaoPaginas[idx];
      document.getElementById('prev-correcao').style.display = idx > 0 ? '' : 'none';
      document.getElementById('next-correcao').style.display = idx < correcaoPaginas.length - 1 ? '' : 'none';
    }
    document.getElementById('prev-correcao').onclick = () => {
      if (paginaAtual > 0) {
        paginaAtual--;
        mostrarPaginaCorrecao(paginaAtual);
      }
    };
    document.getElementById('next-correcao').onclick = () => {
      if (paginaAtual < correcaoPaginas.length - 1) {
        paginaAtual++;
        mostrarPaginaCorrecao(paginaAtual);
      }
    };
    // Mostrar a primeira página ao abrir o spoiler
    document.getElementById('spoiler-correcao').addEventListener('toggle', function() {
      if (this.open) mostrarPaginaCorrecao(0);
    });

    let aguardandoTransicao = false;

    function mostrarTransicao(texto) {
      document.getElementById('quiz-form').style.display = 'none';
      document.getElementById('aviso-transicao').style.display = 'flex';
      document.getElementById('texto-transicao').innerHTML = texto;
      aguardandoTransicao = true;
    }

    function continuarTransicao() {
      document.getElementById('aviso-transicao').style.display = 'none';
      document.getElementById('quiz-form').style.display = 'flex';
      aguardandoTransicao = false;
      steps[currentStep].classList.add('active');
      updateProgressBar();
    }

    // Adicione no início do quiz
    window.onbeforeunload = function(e) {
      if (!enviado) {
        e.preventDefault();
        e.returnValue = 'Se você sair, suas respostas serão enviadas e não poderá voltar!';
        return e.returnValue;
      }
    };

    // Após o envio do formulário, remova o alerta
    form.addEventListener('submit', function(e) {
      enviado = true;
      window.onbeforeunload = null;
    });

    // Tenta enviar automaticamente ao sair (não é garantido)
    window.addEventListener('beforeunload', function (e) {
      if (!enviado) {
        document.getElementById('quiz-form').requestSubmit();
        e.preventDefault();
        e.returnValue = '';
      }
    });

    // Bloqueia botão direito
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
    });

    // Bloqueia teclas de atalho comuns
    document.addEventListener('keydown', function(e) {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === "i") ||
        (e.ctrlKey && e.key.toLowerCase() === "u") ||
        (e.ctrlKey && e.key.toLowerCase() === "c") ||
        (e.ctrlKey && e.key.toLowerCase() === "v") ||
        (e.ctrlKey && e.key.toLowerCase() === "s") ||
        (e.ctrlKey && e.key.toLowerCase() === "p")
      ) {
        e.preventDefault();
      }
    });

    // Loader de abertura
    window.addEventListener('load', function() {
      document.getElementById('page-loader').style.display = 'none';
    });
  </script>
</body>
</html>
